<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Kuis Matematika Pecahan</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: pink;
      text-align: center;
      padding: 20px;
    }
    .container {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 800px;
      margin: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    h1 { color: #d63384; }
    .soal {
      margin: 20px 0;
      font-size: 20px;
    }
    .opsi {
      text-align: center;
      margin: 8px 0;
      font-size: 18px;
    }
    .fraction {
      display: inline-block;
      vertical-align: middle;
      text-align: center;
    }
    .fraction > span {
      display: block;
      padding: 0 4px;
    }
    .fraction .top {
      border-bottom: 2px solid #000;
    }
    button {
      background: #d63384;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      margin-top: 20px;
      cursor: pointer;
    }
    button:hover { background: #a61e66; }
    input[type=text] {
      padding: 8px;
      width: 60%;
      margin: 8px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <div id="page"></div>

  <script>
    const soalList = [
      // ---- Pilihan Ganda ----
      { tipe: "pg", tanya: "Hasil dari 1/2 + 1/3 adalah ...", opsi: ["5/6","2/5","3/4","7/12"], jawab: ["5/6"] },
      { tipe: "pg", tanya: "Hasil dari (-5) + 8 adalah ...", opsi: ["3","-13","-3","13"], jawab: ["3"] },
      { tipe: "pg", tanya: "Hasil dari 3/4 ร 2/3 adalah ...", opsi: ["1/2","6/12","2/7","3/8"], jawab: ["1/2"] },
      { tipe: "pg", tanya: "Hasil dari (-12) รท 3 adalah ...", opsi: ["-4","4","36","-36"], jawab: ["-4"] },
      { tipe: "pg", tanya: "Hasil dari 7/8 - 1/4 adalah ...", opsi: ["5/8","3/8","1/2","7/12"], jawab: ["5/8"] },
      { tipe: "pg", tanya: "Hasil dari 5/6 + 1/3 adalah ...", opsi: ["7/6","2/3","4/9","1/2"], jawab: ["7/6"] },
      { tipe: "pg", tanya: "Hasil dari (-7) + (-3) adalah ...", opsi: ["-10","10","-4","4"], jawab: ["-10"] },
      { tipe: "pg", tanya: "Hasil dari 2/5 ร 5/2 adalah ...", opsi: ["1","5/4","2/5","1/2"], jawab: ["1"] },
      { tipe: "pg", tanya: "Hasil dari (-9) รท (-3) adalah ...", opsi: ["3","-3","9","-9"], jawab: ["3"] },
      { tipe: "pg", tanya: "Hasil dari 9/10 - 2/5 adalah ...", opsi: ["1/2","1/10","7/10","3/5"], jawab: ["7/10"] },
      { tipe: "pg", tanya: "Hasil dari 4/7 + 3/14 adalah ...", opsi: ["5/7","11/14","1/2","3/7"], jawab: ["11/14"] },
      { tipe: "pg", tanya: "Hasil dari (-6) + 2 adalah ...", opsi: ["-4","4","-8","8"], jawab: ["-4"] },
      { tipe: "pg", tanya: "Hasil dari 7/9 ร 3/7 adalah ...", opsi: ["1/3","3/16","7/21","7/9"], jawab: ["1/3"] },
      { tipe: "pg", tanya: "Hasil dari (-15) รท 5 adalah ...", opsi: ["-3","3","-20","20"], jawab: ["-3"] },
      { tipe: "pg", tanya: "Hasil dari 5/8 - 1/2 adalah ...", opsi: ["1/8","3/8","1/2","5/16"], jawab: ["1/8"] },

      // ---- Pilihan Ganda Kompleks ----
      { tipe: "pgc", tanya: "Bilangan pecahan yang lebih besar dari 1/2 adalah ...", opsi: ["3/4","2/5","5/8","1/3"], jawab: ["3/4","5/8"] },
      { tipe: "pgc", tanya: "Hasil penjumlahan yang bernilai positif adalah ...", opsi: ["(-3)+5","(-7)+2","(-10)+(-1)","8+(-3)"], jawab: ["(-3)+5","8+(-3)"] },
      { tipe: "pgc", tanya: "Pilih hasil perkalian pecahan yang sama dengan 1/2", opsi: ["1/4 ร 2","2/3 ร 3/4","1/2 ร 1","3/6 ร 1"], jawab: ["1/4 ร 2","3/6 ร 1"] },
      { tipe: "pgc", tanya: "Bilangan yang bernilai negatif adalah ...", opsi: ["-4","3/5","-7/8","2"], jawab: ["-4","-7/8"] },
      { tipe: "pgc", tanya: "Pilih hasil pembagian pecahan yang benar", opsi: ["1/2 รท 1/4 = 2","2/3 รท 2/3 = 1","3/4 รท 1/2 = 3/8","5/6 รท 5/6 = 1"], jawab: ["1/2 รท 1/4 = 2","2/3 รท 2/3 = 1","5/6 รท 5/6 = 1"] },
      { tipe: "pgc", tanya: "Pecahan yang lebih kecil dari 1/3 adalah ...", opsi: ["1/4","2/5","1/6","3/5"], jawab: ["1/4","1/6"] },
      { tipe: "pgc", tanya: "Hasil penjumlahan negatif adalah ...", opsi: ["-2+(-3)","4+(-5)","3+2","-1+(-6)"], jawab: ["-2+(-3)","-1+(-6)"] },
      { tipe: "pgc", tanya: "Pilih pecahan yang ekuivalen dengan 2/3", opsi: ["4/6","6/9","3/5","2/4"], jawab: ["4/6","6/9"] },
      { tipe: "pgc", tanya: "Bilangan campuran yang lebih dari 1 adalah ...", opsi: ["1 1/2","2/3","3/4","5/4"], jawab: ["1 1/2","5/4"] },
      { tipe: "pgc", tanya: "Hasil pembagian pecahan yang lebih dari 1 adalah ...", opsi: ["3/2 รท 1/2","2/3 รท 1/2","1/4 รท 1/2","5/6 รท 5/6"], jawab: ["3/2 รท 1/2","2/3 รท 1/2"] }
    ];

    let score = 0;
    let currentSoal = -1;
    let nama = "";
    let kelas = "";
    const perSoal = 100 / soalList.length;
    const page = document.getElementById("page");

    function startPage() {
      page.innerHTML = `
        <div class="container">
          <h1>Kuis Matematika Pecahan</h1>
          <p>Masukkan Nama dan Kelas:</p>
          <input type="text" id="nama" placeholder="Nama"><br>
          <input type="text" id="kelas" placeholder="Kelas"><br>
          <button onclick="startQuiz()">Mulai</button>
        </div>
      `;
    }

    function startQuiz() {
      nama = document.getElementById("nama").value;
      kelas = document.getElementById("kelas").value;
      currentSoal = 0;
      score = 0;
      showSoal();
    }

    function showSoal() {
      if (currentSoal >= soalList.length) {
        return showHasil();
      }
      let s = soalList[currentSoal];
      let html = `<div class="container">
        <div class="soal">${formatFraction(s.tanya)}</div>`;
      s.opsi.forEach((o, i) => {
        if (s.tipe === "pg") {
          html += `<div class="opsi">
            <label><input type="radio" name="opsi" value="${o}"> ${formatFraction(o)}</label>
          </div>`;
        } else {
          html += `<div class="opsi">
            <label><input type="checkbox" name="opsi" value="${o}"> ${formatFraction(o)}</label>
          </div>`;
        }
      });
      html += `<button onclick="cekJawaban()">Jawab</button></div>`;
      page.innerHTML = html;
    }

    function formatFraction(str) {
      if (str.includes("/")) {
        return str.replace(/(-?\d+)\/(\d+)/g, 
          `<span class="fraction"><span class="top">$1</span><span class="bottom">$2</span></span>`);
      }
      return str;
    }

    function cekJawaban() {
      let s = soalList[currentSoal];
      let selected = [...document.querySelectorAll("input[name=opsi]:checked")].map(x=>x.value);
      if (selected.length === 0) { alert("Pilih jawaban dulu!"); return; }
      if (arraysEqual(selected.sort(), s.jawab.sort())) {
        score += perSoal;
      }
      currentSoal++;
      showSoal();
    }

    function arraysEqual(a,b) {
      return JSON.stringify(a) === JSON.stringify(b);
    }

    function showHasil() {
      let benar = Math.round(score / perSoal);
      let ket = score >= 70 ? "LULUS ๐" : "Belajar lagi ๐ช";
      page.innerHTML = `
        <div class="container">
          <h1>Hasil Kuis</h1>
          <p>Nama: <b>${nama}</b></p>
          <p>Kelas: <b>${kelas}</b></p>
          <h2>Skor Akhir: ${Math.round(score)}</h2>
          <p>Dari ${soalList.length} soal, Anda menjawab benar ${benar} soal.</p>
          <h2>Status: ${ket}</h2>
          <button onclick="location.reload()">Ulangi</button>
        </div>
      `;
    }

    startPage();
  </script>
</body>
</html>
